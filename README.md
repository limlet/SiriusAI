# Сириус ИИ
Дополнительное задание для проектной задачи "Интеллектуальный помощник для создания учебных материалов" от Научно-технологический университет «Сириус».
## Описание
Основная задача — суммаризация текста из видеороликов, загружаемых с Яндекс.Диска. Код написан на Python с использованием фреймворка FastAPI для создания собственного API.
## Библиотеки
Использованы библиотеки:
1. FastAPI и HTTPException из fastapi для создания API и обработки ошибок
2. BaseModel из pydantic для описания структуры данных, которую API будет получать в запросах
3. Pipeline из transformers для суммаризации текста с использованием моделей Hugging Face
4. Whisper для транскрипции видео в текст (ASR)
5. Requests для HTTP-запросов, чтобы взаимодействовать с API Яндекс.Диска
## Описание кода
### Классы и функции
- Класс yaclient для работы с API Яндекс.Диска.
- Функция tv для транскрипции видео.
- Функция st для суммаризации текста.
### Подробное описание кода
1. ```py
   app=FastAPI()
   sum=pipeline("summarization", model="facebook/bart-large-cnn")
   spm=whisper.load_model("base")
   ```
   Здесь создается экземпляр FastAPI, который будет нашим веб-приложением, пайплайн для суммаризации текста(используя модель facebook/bart-large-cnn от Hugging Face) и загружается модель whisper для преобразования аудио 
   из видео в текст(мы используем базовую модель для распознавания речи).
2. Функция транскрипции видео:
   ```py
   def tv(video_path):
       result = speech_model.transcribe(video_path)
       return result['text']
   ```
   Функция tv принимает путь к видеофайлу, преобразования звука из видео в текст(speech_model.transcribe(video_path)) и возвращает распознанный текст в виде строки.

3. Функция суммаризации текста:
   ```py
   def st(text):
       summary = sum(text, max_length=130, min_length=30, do_sample=False)
       return summary[0]['summary_text']
   ```
   Эта функция суммирует текст, используя модель BART, и возвращает краткий пересказ.
4. ```py
   class VR(BaseModel):
       file_path: str
   ```
   VR- VideoRequest — класс модели данных для API.
   Он описывает структуру входных данных, которые ожидает API. Поле file_path: str задает путь к видеофайлу на Яндекс.Диске.
6. API-метод /summarize_video:
   ```py
   @app.post("/summarize_video")
   async def summarize_video(request: VR):
    ...
   ```
   Этот метод обрабатывает запросы на суммаризацию. Он выполняет следующие шаги:
   - Скачивает видео с Яндекс.Диска.
   - Преобразует видео в текст.
   - Суммирует текст и возвращает результат.
6. Инициализация клиента Яндекс.Диска:
   ```py
   token = "ваш_oauth_токен"
   yc = yaclient(token)
   ```
   Здесь создаётся экземпляр клиента Яндекс.Диска с заданным OAuth токеном.
## Заключение
Данное решение позволяет интегрировать функциональность суммаризации видеороликов с Яндекс.Диска в виде API, что может быть полезно для автоматизации анализа и обработки данных.
